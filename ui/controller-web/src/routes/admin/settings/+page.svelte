<script lang="ts">
	import { settingsStore } from '$lib/stores/settings.svelte';
	import ThemeSelector from '$lib/components/settings/theme-selector.svelte';
	import DarkModeToggle from '$lib/components/settings/dark-mode-toggle.svelte';
	import LanguageSelector from '$lib/components/settings/language-selector.svelte';
	import { RotateCcw, Settings as SettingsIcon } from 'lucide-svelte';

	function handleReset() {
		if (confirm('ç¡®å®šè¦æ¢å¤æ‰€æœ‰è®¾ç½®åˆ°é»˜è®¤å€¼å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚')) {
			settingsStore.reset();
		}
	}
</script>

<div class="container mx-auto max-w-3xl p-6">
	<!-- Header -->
	<div class="mb-8">
		<div class="mb-2 flex items-center gap-3">
			<SettingsIcon size={32} class="text-primary-600 dark:text-primary-400" />
			<h1 class="h1 font-bold">è®¾ç½®</h1>
		</div>
		<p class="text-surface-600 dark:text-surface-400">
			è‡ªå®šä¹‰æ‚¨çš„åå¥½è®¾ç½®ï¼ŒåŒ…æ‹¬ä¸»é¢˜ã€æ·±è‰²æ¨¡å¼å’Œè¯­è¨€é€‰é¡¹ã€‚æ‰€æœ‰è®¾ç½®ä¼šè‡ªåŠ¨ä¿å­˜ã€‚
		</p>
	</div>

	<!-- Appearance Section -->
	<section class="mb-6">
		<div class="mb-4 flex items-center gap-2 border-b border-surface-200 pb-2 dark:border-surface-700">
			<h2 class="h2 text-xl font-semibold">ğŸ¨ å¤–è§‚</h2>
		</div>

		<div class="space-y-4">
			<!-- Theme Selector -->
			<ThemeSelector />

			<!-- Dark Mode Toggle -->
			<DarkModeToggle />
		</div>
	</section>

	<!-- Language Section -->
	<section class="mb-6">
		<div class="mb-4 flex items-center gap-2 border-b border-surface-200 pb-2 dark:border-surface-700">
			<h2 class="h2 text-xl font-semibold">ğŸŒ è¯­è¨€</h2>
		</div>

		<LanguageSelector />
	</section>

	<!-- Actions -->
	<div class="mt-8 flex items-center justify-between border-t border-surface-200 pt-6 dark:border-surface-700">
		<button class="btn preset-ghost-surface flex items-center gap-2" onclick={handleReset}>
			<RotateCcw size={18} />
			<span>æ¢å¤é»˜è®¤è®¾ç½®</span>
		</button>

		<div class="text-sm opacity-60">
			è®¾ç½®ä¼šè‡ªåŠ¨ä¿å­˜
		</div>
	</div>

	<!-- Info Section -->
	<div class="mt-6 rounded-lg bg-primary-50 p-4 dark:bg-primary-900/10">
		<div class="text-sm opacity-75">
			<p class="mb-2 font-semibold">ğŸ’¡ æç¤º</p>
			<ul class="ml-4 list-disc space-y-1">
				<li>ä¸»é¢˜å’Œæ·±è‰²æ¨¡å¼è®¾ç½®ä¼šç«‹å³ç”Ÿæ•ˆ</li>
				<li>æ‰€æœ‰è®¾ç½®ä¿å­˜åœ¨æµè§ˆå™¨æœ¬åœ°ï¼Œä¸ä¼šåœ¨å…¶ä»–è®¾å¤‡åŒæ­¥</li>
				<li>æ¸…é™¤æµè§ˆå™¨æ•°æ®ä¼šé‡ç½®æ‰€æœ‰è®¾ç½®</li>
			</ul>
		</div>
	</div>
</div>
